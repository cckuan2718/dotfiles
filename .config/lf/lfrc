#
# lfrc
#

#
# Settings
#

set globsearch
set hidden
set hiddenfiles '.*:*.aux:*.log:*.bbl:*.bcf:*.blg:*.run.xml'
set ifs "\n"
set info 'size'
set nodirfirst
set period 1
set previewer ~/.config/lf/previewer
set scrolloff 10
set shell sh
set shellopts '-eu'
set sortby 'name'

#
# Custom functions
#

cmd open ${{
	case "$(file --mime-type "$f" -b)" in
	text/*|application/x-shellscript)
		${EDITOR} ${fx}
		;;
	*)
		for file in ${fx}; do
			${OPENER} "${file}" > /dev/null 2> /dev/null &
		done
		;;
	esac
}}

#
# Key bindings
#

map D delete
map <c-n> push %mkdir<space>-p<space>
map <c-r> reload
map <enter> shell
map x $$f
map X !$f
map o &${OEPNER} $f
map O $${OPENER} --ask $f

map A rename 			# at the very end
map c push A<c-u>		# new rename
map I push A<c-a>		# at the very beginning
map i push A<a-b><a-b><a-f>	# before extention
map a push A<a-b>		# after extention
map b $setbg $f

map e push :!nvim<space>
map P $~/.config/lf/previewer "$f" | ${PAGER}

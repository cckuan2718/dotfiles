#!/bin/sh
# Program:
# 	* This script is used by apmd
# 	* Lock screen before suspend
# Dependency:
# 	* lock_screen(1)
# Author:
# 	* Chang, Chu-Kuan <cckuan@changchukuan.name>

readonly suspend_user='cckuan'

doas -u "${suspend_user}" env DISPLAY=':0' \
    XAUTHORITY="/home/${suspend_user}/.Xauthority" \
    HOME="/home/${suspend_user}" \
    MPD_HOST="/home/${suspend_user}/.config/mpd/socket" \
    /home/${suspend_user}/.local/bin/lockscreen -s


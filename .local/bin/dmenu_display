#!/bin/sh
# Program:
#	* Select and change display layout
# Dependency:
# 	* dmenu(1)
# Author:
#       * Chang, Chu-Kuan <cckuan@changchukuan.name>

readonly conf_dir="${XDG_CONFIG_HOME:-${HOME}/.config}/xrandr"

cd "${conf_dir}" || exit 1

layout="$(
	find . -type f -maxdepth 1 \
	    | sed 's|^\./||' \
	    | dmenu -i -l 5 -p 'Which layout?'
)"

if [ -z "${layout}" ]; then
	exit 0
fi

sh "${layout}"
setbg # Fix background if screen size/arangement has changed.

